<div id="container" class="container">
    <h2><b>Библиотека</b></h2>

    <!-- Жанры -->
    <div class="libraryGenreList">
        <h4 class="libraryGenreTitle">Жанры</h4>
        <div ng-click="getAll()" class="libraryGenre">
            Все
        </div>
        <div ng-click="selectGenre(genre.id)" class="libraryGenre" ng-repeat="genre in vm.genres  | orderBy:'name' ">
            {{genre.name}}
        </div>
    </div>

    <!-- Рекомендации -->
    <div class="libraryRecommendation">
        <div><h3><b>Популярное</b></h3></div>

        <div class="recommendationBooks">
            <div class="rBook" ng-repeat="book in vm.popularBooks track by book.id">
                <a ui-sref="book-detail({id:book.id})">
                    <div class="libBookCover"><img data-ng-src="/api/books/downloadCover/{{book.id}}" width="100%" height="100%" style="border-radius: 5px"></div>
                    <div class="libRecommendBookInfo">
                        <div class="bookReadedH">
                            <div class="bookReaded" ng-if="isRead(book.id)">Прочитано</div>
                        </div>
                        <div class="bookTitle">{{book.title}}</div>
                        <div class="bookAuthor">{{book.authorFirstName}} {{book.authorLastName}}</div>
                    </div>
                </a>
                <div class="bookRButtons" >
                    <button class="btnLibRBook" ui-sref="book-detail({id:book.id})">Читать</button>
                    <button has-authority="ROLE_USER"  
                            ng-class="{false:'btnLibFavoriteBook', true:'btnLibFavoriteBookChecked ' } [isFavorite(book.id) ] " 
                            ng-click="getFavorite(book.id)">
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- все Книги -->
    <div class="libraryBooks">
        <div class="homeRow">
            <div class="homeCol col-md-12">

                <!-- Заголовок / сортировка -->
                <div class="myLibBooksTitle2">
                    <div class="homeCol col-md-9 col-sm-12">
                        <div class="myLibBooksTitle">
                            <h3><b>Книги</b></h3>
                        </div>
                    </div>
                    <div class="homeCol col-md-3 col-sm-12">
                        <select type="myBookLibSort" ng-options="opt.name for opt in options.data track by opt.name"
                        ng-model="options.selected" ng-change="reloadAll()"></select>
                    </div>
                </div>

                <div class="libraryAllBooks" infinite-scroll-disabled="vm.busy || vm.page > vm.maxPage"
                     infinite-scroll="vm.loadAll()">
                    <div class="col-md-3 col-sm-6" ng-repeat="book in vm.books track by book.id" >
                        <div class="libBook">
                            <a ui-sref="book-detail({id:book.id})">
                                <div class="libBookCover"><img data-ng-src="/api/books/downloadCover/{{book.id}}"  width="100%" height="100%" style="border-radius:5px"></div>
                                <div class="libBookInfo">
                                    <div class="bookReadedH">
                                        <div class="bookReaded2" ng-if="isRead(book.id)">Прочитано</div>
                                    </div>
                                    <div class="bookTitle">{{book.title}}</div>
                                    <div class="bookAuthor">{{book.authorFirstName}} {{book.authorLastName}}</div>
                                    <div class="bookAuthor" ui-sref="profile-detail({id:book.profileId})"><a>{{book.createdBy}}</a></div>
                                </div>
                            </a>
                            <div class="bookButtons">
                                <button class="btnLibReadBook2" ui-sref="book-detail({id:book.id})">Читать</button>
                                <button has-authority="ROLE_USER" 
                                        ng-class="{false:'btnLibFavoriteBook', true:'btnLibFavoriteBookChecked ' } [isFavorite(book.id)]" 
                                        ng-click="getFavorite(book.id)">
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
